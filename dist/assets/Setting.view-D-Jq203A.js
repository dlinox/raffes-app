import{V as fe,f as ve,g as me,b as pe,c as ge,d as L,e as be,a as Ne}from"./VCard-KQqe0egX.js";import{bd as we,g as Ce,p as Ve,r as te,be as Pe,z as I,F as Q,ax as he,av as O,az as xe,C as B,aw as Ie,G as _e,u as ke,V as j,a as N,l as a,b4 as R,$ as z,ag as De,v as U,a2 as ee,f as Te,aK as ye,bf as Se,aW as Fe,bg as Ee,i as Ae,j as Be,w as c,o as ne,c as Re,bh as ze,t as M,k as Me,b0 as Ue}from"./index-CER42evP.js";const Ge=50,$e=500;function Ke(n){let{toggleUpDown:g}=n,u=-1,m=-1;we(p);function i(r){p(),C(r),u=window.setTimeout(()=>{m=window.setInterval(()=>C(r),Ge)},$e)}function p(){window.clearTimeout(u),window.clearInterval(m)}function C(r){g(r==="up")}return{holdStart:i,holdStop:p}}const He=Ve({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},...ye(Se(),["modelValue","validationValue"])},"VNumberInput"),Le=Ce()({name:"VNumberInput",props:{...He()},emits:{"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,g){let{slots:u}=g;const m=te(),{holdStart:i,holdStop:p}=Ke({toggleUpDown:K}),C=Pe(n),r=I(()=>C.isDisabled.value||C.isReadonly.value),_=Q(n.focused);function V(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.precision;const s=t==null?String(e):e.toFixed(t);return _.value?Number(s).toString():s}const l=he(n,"modelValue",null,e=>e??null,e=>e==null?e??null:O(Number(e),n.min,n.max)),P=Q(null);xe(()=>{_.value&&!r.value||(l.value==null?P.value=null:isNaN(l.value)||(P.value=V(l.value)))});const d=I({get:()=>P.value,set(e){e===null||e===""?(l.value=null,P.value=null):!isNaN(Number(e))&&Number(e)<=n.max&&Number(e)>=n.min&&(l.value=Number(e),P.value=e)}}),G=I(()=>r.value?!1:(l.value??0)+n.step<=n.max),$=I(()=>r.value?!1:(l.value??0)-n.step>=n.min),o=I(()=>n.hideInput?"stacked":n.controlVariant),q=B(()=>o.value==="split"?"$plus":"$collapse"),W=B(()=>o.value==="split"?"$minus":"$expand"),k=B(()=>o.value==="split"?"default":"small"),D=B(()=>o.value==="stacked"?"auto":"100%"),ae={props:{onClick:T,onPointerup:y,onPointerdown:Y,onPointercancel:S}},le={props:{onClick:T,onPointerup:y,onPointerdown:Z,onPointercancel:S}};Ie(()=>n.precision,()=>re()),_e(()=>{H()});function X(e){if(e==null)return 0;const t=e.toString(),s=t.indexOf(".");return~s?t.length-s:0}function K(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(r.value)return;if(l.value==null){d.value=V(O(0,n.min,n.max));return}let t=Math.max(X(l.value),X(n.step));n.precision!=null&&(t=Math.max(t,n.precision)),e?G.value&&(d.value=V(l.value+n.step,t)):$.value&&(d.value=V(l.value-n.step,t))}function ue(e){var A;if(!e.data)return;const t=e.target,{value:s,selectionStart:F,selectionEnd:E}=t??{},b=s?s.slice(0,F)+e.data+s.slice(E):e.data,w=Ee(b,n.precision);/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(b)||(e.preventDefault(),t.value=w),n.precision!=null&&(((A=b.split(".")[1])==null?void 0:A.length)>n.precision&&(e.preventDefault(),t.value=w),n.precision===0&&b.includes(".")&&(e.preventDefault(),t.value=w))}async function ie(e){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(e.key)||e.ctrlKey||["ArrowDown","ArrowUp"].includes(e.key)&&(e.preventDefault(),H(),await Fe(),e.key==="ArrowDown"?K(!1):K())}function T(e){e.stopPropagation()}function y(e){const t=e.currentTarget;t==null||t.releasePointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation(),p()}function Y(e){const t=e.currentTarget;t==null||t.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation(),i("up")}function Z(e){const t=e.currentTarget;t==null||t.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation(),i("down")}function S(e){const t=e.currentTarget;t==null||t.releasePointerCapture(e.pointerId),p()}function H(){if(r.value||!m.value)return;const e=m.value.value;e&&!isNaN(Number(e))?d.value=V(O(Number(e),n.min,n.max)):d.value=null}function re(){if(!r.value){if(l.value===null||isNaN(l.value)){d.value=null;return}d.value=n.precision==null?String(l.value):l.value.toFixed(n.precision)}}function oe(){if(!r.value){if(l.value===null||isNaN(l.value)){d.value=null;return}d.value=l.value.toString()}}function se(){oe()}function ce(){H()}return ke(()=>{const{modelValue:e,...t}=j.filterProps(n);function s(){return u.increment?a(ee,{key:"increment-defaults",defaults:{VBtn:{disabled:!G.value,flat:!0,height:D.value,size:k.value,icon:q.value}}},{default:()=>[u.increment(ae)]}):a(U,{"aria-hidden":"true","data-testid":"increment",disabled:!G.value,flat:!0,height:D.value,icon:q.value,key:"increment-btn",onClick:T,onPointerdown:Y,onPointerup:y,onPointercancel:S,size:k.value,tabindex:"-1"},null)}function F(){return u.decrement?a(ee,{key:"decrement-defaults",defaults:{VBtn:{disabled:!$.value,flat:!0,height:D.value,size:k.value,icon:W.value}}},{default:()=>[u.decrement(le)]}):a(U,{"aria-hidden":"true","data-testid":"decrement",disabled:!$.value,flat:!0,height:D.value,icon:W.value,key:"decrement-btn",onClick:T,onPointerdown:Z,onPointerup:y,onPointercancel:S,size:k.value,tabindex:"-1"},null)}function E(){return N("div",{class:"v-number-input__control"},[F(),a(R,{vertical:o.value!=="stacked"},null),s()])}function b(){return!n.hideInput&&!n.inset?a(R,{vertical:!0},null):void 0}const w=o.value==="split"?N("div",{class:"v-number-input__control"},[a(R,{vertical:!0},null),s()]):n.reverse||o.value==="hidden"?void 0:N(z,null,[b(),E()]),A=u["append-inner"]||w,J=o.value==="split"?N("div",{class:"v-number-input__control"},[F(),a(R,{vertical:!0},null)]):n.reverse&&o.value!=="hidden"?N(z,null,[E(),b()]):void 0,de=u["prepend-inner"]||J;return a(j,De({ref:m},t,{modelValue:d.value,"onUpdate:modelValue":f=>d.value=f,focused:_.value,"onUpdate:focused":f=>_.value=f,validationValue:l.value,onBeforeinput:ue,onFocus:se,onBlur:ce,onKeydown:ie,class:["v-number-input",{"v-number-input--default":o.value==="default","v-number-input--hide-input":n.hideInput,"v-number-input--inset":n.inset,"v-number-input--reverse":n.reverse,"v-number-input--split":o.value==="split","v-number-input--stacked":o.value==="stacked"},n.class],style:n.style,inputmode:"decimal"}),{...u,"append-inner":A?function(){var x;for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return N(z,null,[(x=u["append-inner"])==null?void 0:x.call(u,...h),w])}:void 0,"prepend-inner":de?function(){var x;for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return N(z,null,[J,(x=u["prepend-inner"])==null?void 0:x.call(u,...h)])}:void 0})}),Te({},m)}}),Oe=["src"],We=Ae({__name:"Setting.view",setup(n){const g=te(null),u=()=>{g.value="/TICKETS.pdf"};return(m,i)=>{const p=Me("v-date-input");return ne(),Be(fe,null,{default:c(()=>[a(Ne,{class:"",elevation:"0"},{default:c(()=>[a(ve,{class:"text-h4"},{default:c(()=>i[1]||(i[1]=[M("Configuraci贸n")])),_:1,__:[1]}),a(me,{class:"text-"},{default:c(()=>i[2]||(i[2]=[M(" Configuraci贸n inicial de la rifa ")])),_:1,__:[2]}),a(pe,null,{default:c(()=>[a(ge,null,{default:c(()=>[a(L,{cols:"6"},{default:c(()=>[a(Le,{min:1,type:"number",hint:"Ingresa la cantidad de rifas que se van a realizar",label:"Cantidad de Rifas (Tickets)",outlined:""})]),_:1}),a(L,{cols:"6"},{default:c(()=>[a(j,{label:"Precio Unitario",hint:"Precio por cada ticket de rifa",outlined:""})]),_:1}),a(L,{cols:"12"},{default:c(()=>[a(p,{"prepend-icon":"","prepend-inner-icon":"custom:IconCalendar",label:"Fecha de Inicio",outlined:""})]),_:1})]),_:1})]),_:1}),a(be,null,{default:c(()=>[a(Ue),a(U,{variant:"outlined",size:"large",color:"primary",class:"rounded-lg",onClick:u},{default:c(()=>i[3]||(i[3]=[M(" Generar Ticket ")])),_:1,__:[3]}),a(U,{variant:"flat",size:"large",color:"primary",class:"rounded-lg",onClick:i[0]||(i[0]=()=>console.log("Guardar Configuraci贸n"))},{default:c(()=>i[4]||(i[4]=[M(" Guardar Configuraci贸n ")])),_:1,__:[4]})]),_:1})]),_:1}),g.value?(ne(),Re("iframe",{key:0,src:g.value,width:"100%",height:"600px",class:"mt-4"},null,8,Oe)):ze("",!0)]),_:1})}}});export{We as default};
